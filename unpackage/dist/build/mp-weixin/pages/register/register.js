(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/register/register"],{"036e":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return i}));var i={cpimg:function(){return n.e("components/cpimg/cpimg").then(n.bind(null,"0486"))}},o=function(){var t=this,e=t.$createElement;t._self._c},s=[]},"5b4f":function(t,e,n){"use strict";n.r(e);var i=n("036e"),o=n("73c5");for(var s in o)"default"!==s&&function(t){n.d(e,t,(function(){return o[t]}))}(s);n("6fa3");var a,r=n("f0c5"),c=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],a);e["default"]=c.exports},"6fa3":function(t,e,n){"use strict";var i=n("9074"),o=n.n(i);o.a},"73c5":function(t,e,n){"use strict";n.r(e);var i=n("90b6"),o=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=o.a},9074:function(t,e,n){},"90b6":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){n.e("components/cpimg/cpimg").then(function(){return resolve(n("0486"))}.bind(null,n)).catch(n.oe)},o={components:{cpimg:i},data:function(){return{imgUrl:getApp().globalData.imgUrl,btnTrue:!1,jszzmimg:"",jszfmimg:"",xszzmimg:"",xszfmimg:"",carimg:"",imgSta:"",cno:"",clype:"",xztype:"",pname:"",fdjno:"",clsbno:"",starttime:"",endtime:"",jsno:"",carktime:"",carjtime:""}},methods:{carNum:function(t){this.cno=t.detail.value,""!=this.jszzmimg&&""!=this.jszfmimg&&""!=this.xszzmimg&&""!=this.xszfmimg&&""!=this.carimg&&""!=this.cno&&""!=this.pname&&""!=this.fdjno&&(this.btnTrue=!0)},carPpxh:function(t){this.pname=t.detail.value,""!=this.jszzmimg&&""!=this.jszfmimg&&""!=this.xszzmimg&&""!=this.xszfmimg&&""!=this.carimg&&""!=this.cno&&""!=this.pname&&""!=this.fdjno&&(this.btnTrue=!0)},carFdjh:function(t){this.fdjno=t.detail.value,""!=this.jszzmimg&&""!=this.jszfmimg&&""!=this.xszzmimg&&""!=this.xszfmimg&&""!=this.carimg&&""!=this.cno&&""!=this.pname&&""!=this.fdjno&&(this.btnTrue=!0)},uploadImg:function(t){this.imgSta=t.currentTarget.dataset.index,this.$refs.cpimg._changImg()},cpimgOk:function(t){this.upload_file(getApp().globalData.uploadUrl,t[0])},cpimgErr:function(e){t.showToast({icon:"none",title:e})},upload_file:function(e,n){var i=this;console.log("url",e,n),t.uploadFile({url:e,filePath:n,name:"file",header:{"content-type":"multipart/form-data"},success:function(e){t.hideLoading(),console.log("上传成功res1",e.data),console.log("上传成功res",JSON.parse(e.data).data.url);var n=JSON.parse(e.data);if(200==n.code){var o=n.data.url;1==i.imgSta?i.jszyzFun(getApp().globalData.jszUrl,o,"front"):2==i.imgSta?i.jszyzFun(getApp().globalData.jszUrl,o,"back"):3==i.imgSta?i.xszyzFun(getApp().globalData.xszUrl,o,"front"):4==i.imgSta?i.xszyzFun(getApp().globalData.xszUrl,o,"back"):5==i.imgSta&&i.carFun(getApp().globalData.carUrl,o)}else t.showToast({icon:"none",title:e.data.msg})},fail:function(e){t.hideLoading(),t.showToast({icon:"none",title:"网络错误"})}})},jszyzFun:function(e,n,i){var o=this;t.request({url:e,data:{access_token:t.getStorageSync("bdaccess-token"),url:n,detect_direction:!0,driving_license_side:i},header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){t.hideLoading(),void 0!=e.data.words_result?(1==o.imgSta?(o.jszzmimg=n,o.jsno=e.data.words_result.证号.words,o.carktime=e.data.words_result.有效期限.words.replace(/^(\d{4})(\d{2})(\d{2})$/,"$1-$2-$3"),o.carjtime=e.data.words_result.至.words.replace(/^(\d{4})(\d{2})(\d{2})$/,"$1-$2-$3")):2==o.imgSta&&(o.jszfmimg=n),""!=o.jszzmimg&&""!=o.jszfmimg&&""!=o.xszzmimg&&""!=o.xszfmimg&&""!=o.carimg&&""!=o.cno&&""!=o.pname&&""!=o.fdjno&&(o.btnTrue=!0)):t.showToast({title:"请上传正确的图片",icon:"none"})},fail:function(){t.hideLoading(),t.showToast({title:"网络错误",icon:"none"})}})},xszyzFun:function(e,n,i){var o=this;t.request({url:e,data:{access_token:t.getStorageSync("bdaccess-token"),url:n,detect_direction:!0,vehicle_license_side:i},header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){t.hideLoading(),void 0!=e.data.words_result?(3==o.imgSta?(o.xszzmimg=n,o.cno=e.data.words_result.号牌号码.words,o.clype=e.data.words_result.车辆类型.words,o.xztype=e.data.words_result.使用性质.words,o.pname=e.data.words_result.品牌型号.words,o.fdjno=e.data.words_result.发动机号码.words,o.clsbno=e.data.words_result.车辆识别代号.words,o.starttime=e.data.words_result.注册日期.words.replace(/^(\d{4})(\d{2})(\d{2})$/,"$1-$2-$3"),o.endtime=e.data.words_result.发证日期.words.replace(/^(\d{4})(\d{2})(\d{2})$/,"$1-$2-$3")):4==o.imgSta&&(o.xszfmimg=n),""!=o.jszzmimg&&""!=o.jszfmimg&&""!=o.xszzmimg&&""!=o.xszfmimg&&""!=o.carimg&&""!=o.cno&&""!=o.pname&&""!=o.fdjno&&(o.btnTrue=!0)):t.showToast({title:"请上传正确的图片",icon:"none"})},fail:function(){t.hideLoading(),t.showToast({title:"网络错误",icon:"none"})}})},carFun:function(e,n){var i=this;t.request({url:e,data:{access_token:t.getStorageSync("bdaccess-token"),url:n},header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){t.hideLoading(),void 0!=e.data.words_result?(5==i.imgSta&&(i.carimg=n),""!=i.jszzmimg&&""!=i.jszfmimg&&""!=i.xszzmimg&&""!=i.xszfmimg&&""!=i.carimg&&""!=i.cno&&""!=i.pname&&""!=i.fdjno&&(i.btnTrue=!0)):t.showToast({title:"请上传正确的图片",icon:"none"})},fail:function(){t.hideLoading(),t.showToast({title:"网络错误",icon:"none"})}})},goSave:function(){var e=this;if(""==e.jszzmimg)return t.showToast({title:"请上传驾驶证正页",icon:"none"}),!1;if(""==e.jszfmimg)return t.showToast({title:"请上传驾驶证副页",icon:"none"}),!1;if(""==e.xszzmimg)return t.showToast({title:"请上传行驶证正页",icon:"none"}),!1;if(""==e.xszfmimg)return t.showToast({title:"请上传行驶证副页",icon:"none"}),!1;if(""==e.carimg)return t.showToast({title:"请上传车辆45°照片",icon:"none"}),!1;if(""==e.cno)return t.showToast({title:"请输入车牌号码",icon:"none"}),!1;if(""==e.pname)return t.showToast({title:"请输入品牌型号",icon:"none"}),!1;if(""==e.fdjno)return t.showToast({title:"请输入发动机号",icon:"none"}),!1;""!=e.jszzmimg&&""!=e.jszfmimg&&""!=e.xszzmimg&&""!=e.xszfmimg&&""!=e.carimg&&""!=e.cno&&""!=e.pname&&""!=e.fdjno&&(e.btnTrue=!0);var n={jszzmimg:e.jszzmimg,jszfmimg:e.jszfmimg,xszzmimg:e.xszzmimg,xszfmimg:e.xszfmimg,carimg:e.carimg,jsno:e.jsno,carktime:e.carktime,carjtime:e.carjtime,cno:e.cno,clype:e.clype,xztype:e.xztype,pname:e.pname,fdjno:e.fdjno,clsbno:e.clsbno,starttime:e.starttime,endtime:e.endtime};t.setStorageSync("carIfo",n),t.navigateTo({url:"../registerUser/registerUser"})}},onLoad:function(){}};e.default=o}).call(this,n("543d")["default"])},f779:function(t,e,n){"use strict";(function(t){n("837d");i(n("66fd"));var e=i(n("5b4f"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])}},[["f779","common/runtime","common/vendor"]]]);