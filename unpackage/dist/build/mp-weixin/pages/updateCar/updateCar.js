(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/updateCar/updateCar"],{"24f0":function(t,n,e){"use strict";e.r(n);var i=e("4099"),o=e("3a52");for(var a in o)"default"!==a&&function(t){e.d(n,t,(function(){return o[t]}))}(a);e("72a3");var s,r=e("f0c5"),c=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);n["default"]=c.exports},"358d":function(t,n,e){"use strict";(function(t){e("837d");i(e("66fd"));var n=i(e("24f0"));function i(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},"3a52":function(t,n,e){"use strict";e.r(n);var i=e("bdf5"),o=e.n(i);for(var a in i)"default"!==a&&function(t){e.d(n,t,(function(){return i[t]}))}(a);n["default"]=o.a},4099:function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return i}));var i={cpimg:function(){return e.e("components/cpimg/cpimg").then(e.bind(null,"0486"))}},o=function(){var t=this,n=t.$createElement;t._self._c},a=[]},"49e5":function(t,n,e){},"72a3":function(t,n,e){"use strict";var i=e("49e5"),o=e.n(i);o.a},bdf5:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){e.e("components/cpimg/cpimg").then(function(){return resolve(e("0486"))}.bind(null,e)).catch(e.oe)},o={components:{cpimg:i},data:function(){return{imgUrl:getApp().globalData.imgUrl,btnTrue:!1,jszzmimg:"",jszfmimg:"",xszzmimg:"",xszfmimg:"",carimg:"",imgSta:"",cno:"",clype:"",xztype:"",pname:"",fdjno:"",clsbno:"",starttime:"",endtime:"",jsno:"",carktime:"",carjtime:""}},methods:{carNum:function(t){this.cno=t.detail.value,""!=this.jszzmimg&&""!=this.jszfmimg&&""!=this.xszzmimg&&""!=this.xszfmimg&&""!=this.carimg&&""!=this.cno&&""!=this.pname&&""!=this.fdjno&&(this.btnTrue=!0)},carPpxh:function(t){this.pname=t.detail.value,""!=this.jszzmimg&&""!=this.jszfmimg&&""!=this.xszzmimg&&""!=this.xszfmimg&&""!=this.carimg&&""!=this.cno&&""!=this.pname&&""!=this.fdjno&&(this.btnTrue=!0)},carFdjh:function(t){this.fdjno=t.detail.value,""!=this.jszzmimg&&""!=this.jszfmimg&&""!=this.xszzmimg&&""!=this.xszfmimg&&""!=this.carimg&&""!=this.cno&&""!=this.pname&&""!=this.fdjno&&(this.btnTrue=!0)},uploadImg:function(t){this.imgSta=t.currentTarget.dataset.index,this.$refs.cpimg._changImg()},cpimgOk:function(t){this.upload_file(getApp().globalData.uploadUrl,t[0])},cpimgErr:function(n){t.showToast({icon:"none",title:n})},upload_file:function(n,e){var i=this;console.log("url",n,e),t.uploadFile({url:n,filePath:e,name:"file",header:{"content-type":"multipart/form-data"},success:function(n){t.hideLoading(),console.log("上传成功res1",n.data),console.log("上传成功res",JSON.parse(n.data).data.url);var e=JSON.parse(n.data);if(200==e.code){var o=e.data.url;1==i.imgSta?i.jszyzFun(getApp().globalData.jszUrl,o,"front"):2==i.imgSta?i.jszyzFun(getApp().globalData.jszUrl,o,"back"):3==i.imgSta?i.xszyzFun(getApp().globalData.xszUrl,o,"front"):4==i.imgSta?i.xszyzFun(getApp().globalData.xszUrl,o,"back"):5==i.imgSta&&i.carFun(getApp().globalData.carUrl,o)}else t.showToast({icon:"none",title:n.data.msg})},fail:function(n){t.hideLoading(),t.showToast({icon:"none",title:"网络错误"})}})},jszyzFun:function(n,e,i){var o=this;t.request({url:n,data:{access_token:t.getStorageSync("bdaccess-token"),url:e,detect_direction:!0,driving_license_side:i},header:{"content-type":"application/x-www-form-urlencoded"},success:function(n){t.hideLoading(),void 0!=n.data.words_result?(1==o.imgSta?(o.jszzmimg=e,o.jsno=n.data.words_result.证号.words,o.carktime=n.data.words_result.有效期限.words.replace(/^(\d{4})(\d{2})(\d{2})$/,"$1-$2-$3"),o.carjtime=n.data.words_result.至.words.replace(/^(\d{4})(\d{2})(\d{2})$/,"$1-$2-$3")):2==o.imgSta&&(o.jszfmimg=e),""!=o.jszzmimg&&""!=o.jszfmimg&&""!=o.xszzmimg&&""!=o.xszfmimg&&""!=o.carimg&&""!=o.cno&&""!=o.pname&&""!=o.fdjno&&(o.btnTrue=!0)):t.showToast({title:"请上传正确的图片",icon:"none"})},fail:function(){t.hideLoading(),t.showToast({title:"网络错误",icon:"none"})}})},xszyzFun:function(n,e,i){var o=this;t.request({url:n,data:{access_token:t.getStorageSync("bdaccess-token"),url:e,detect_direction:!0,vehicle_license_side:i},header:{"content-type":"application/x-www-form-urlencoded"},success:function(n){t.hideLoading(),void 0!=n.data.words_result?(3==o.imgSta?(o.xszzmimg=e,o.cno=n.data.words_result.号牌号码.words,o.clype=n.data.words_result.车辆类型.words,o.xztype=n.data.words_result.使用性质.words,o.pname=n.data.words_result.品牌型号.words,o.fdjno=n.data.words_result.发动机号码.words,o.clsbno=n.data.words_result.车辆识别代号.words,o.starttime=n.data.words_result.注册日期.words.replace(/^(\d{4})(\d{2})(\d{2})$/,"$1-$2-$3"),o.endtime=n.data.words_result.发证日期.words.replace(/^(\d{4})(\d{2})(\d{2})$/,"$1-$2-$3")):4==o.imgSta&&(o.xszfmimg=e),""!=o.jszzmimg&&""!=o.jszfmimg&&""!=o.xszzmimg&&""!=o.xszfmimg&&""!=o.carimg&&""!=o.cno&&""!=o.pname&&""!=o.fdjno&&(o.btnTrue=!0)):t.showToast({title:"请上传正确的图片",icon:"none"})},fail:function(){t.hideLoading(),t.showToast({title:"网络错误",icon:"none"})}})},carFun:function(n,e){var i=this;t.request({url:n,data:{access_token:t.getStorageSync("bdaccess-token"),url:e},header:{"content-type":"application/x-www-form-urlencoded"},success:function(n){t.hideLoading(),void 0!=n.data.words_result?(5==i.imgSta&&(i.carimg=e),""!=i.jszzmimg&&""!=i.jszfmimg&&""!=i.xszzmimg&&""!=i.xszfmimg&&""!=i.carimg&&""!=i.cno&&""!=i.pname&&""!=i.fdjno&&(i.btnTrue=!0)):t.showToast({title:"请上传正确的图片",icon:"none"})},fail:function(){t.hideLoading(),t.showToast({title:"网络错误",icon:"none"})}})},goSave:function(){var n=this;if(""==n.jszzmimg)return t.showToast({title:"请上传驾驶证正页",icon:"none"}),!1;if(""==n.jszfmimg)return t.showToast({title:"请上传驾驶证副页",icon:"none"}),!1;if(""==n.xszzmimg)return t.showToast({title:"请上传行驶证正页",icon:"none"}),!1;if(""==n.xszfmimg)return t.showToast({title:"请上传行驶证副页",icon:"none"}),!1;if(""==n.carimg)return t.showToast({title:"请上传车辆45°照片",icon:"none"}),!1;if(""==n.cno)return t.showToast({title:"请输入车牌号码",icon:"none"}),!1;if(""==n.pname)return t.showToast({title:"请输入品牌型号",icon:"none"}),!1;if(""==n.fdjno)return t.showToast({title:"请输入发动机号",icon:"none"}),!1;""!=n.jszzmimg&&""!=n.jszfmimg&&""!=n.xszzmimg&&""!=n.xszfmimg&&""!=n.carimg&&""!=n.cno&&""!=n.pname&&""!=n.fdjno&&(n.btnTrue=!0);var e={jszzmimg:n.jszzmimg,jszfmimg:n.jszfmimg,xszzmimg:n.xszzmimg,xszfmimg:n.xszfmimg,carimg:n.carimg,jsno:n.jsno,carktime:n.carktime,carjtime:n.carjtime,cno:n.cno,clype:n.clype,xztype:n.xztype,pname:n.pname,fdjno:n.fdjno,clsbno:n.clsbno,starttime:n.starttime,endtime:n.endtime};t.setStorageSync("carIfo",e),t.navigateTo({url:"../registerUser/registerUser"})}},onLoad:function(){}};n.default=o}).call(this,e("543d")["default"])}},[["358d","common/runtime","common/vendor"]]]);